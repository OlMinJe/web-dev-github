<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Animation</title>
    <style>
        @keyframes motion1 {
            from { background-color: red; } /* 시작 */
            to { background-color: yellow;} /* 끝 */
        }
        @keyframes motion2 {
            0% { background-color: red; }
            25% { background-color:yellow; }
            50% { background-color: blue; }
            100% { background-color: green; }
        }
        @keyframes motion3 {
            /* 미디어 쿼리에서 사용하듯 */
            0% { background-color: red; left: 0; top: 0; }
            25% { background-color: yellow; left: 200px; top: 0; }
            50% { background-color: blue; left: 200px; top: 200px; }
            75% { background-color: blue; left: 0; top: 200px; }
            100% { background-color: green; left: 0; top: 0; }
        }
        #test1 { width: 100px; height: 100px; background-color: red; }
        #test1:hover { animation-name: motion1; animation-duration: 4s; }
     
        #test2 { width: 100px; height: 100px; background-color: black; }
        #test2:hover { animation-name: motion2; animation-duration: 2s; }

        #test3 { width: 100px; height: 100px; position: relative; /*animation-name: motion3; animation-duration: 4s;*/ }
        /* 움직이기 때문에 hover에는 적용하기 힘들다. 버튼 추가해서 확인해보기*/

        #test4 { width: 100px; height: 100px; position: relative; animation-delay: 2s; }
        #test5 { position: relative; animation-iteration-count: 3; /* 3회 반복 */ }
        #test6 { position: relative; animation-name: motion3; animation-duration: 4s; animation-iteration-count: /*infinite*/ 0; }
    </style>
</head>
<body>
    <h1>Animation</h1>
    <div id="test1"></div>

    <h2>중간단계 키프레임</h2>
    <div id="test2"></div>

    <h3>여러 속성 지정</h3>
    <div id="test3">
        <button onclick="motion3('test3', 6000);">동작</button>
    </div>

    <h2>animation-delay</h2>
    <div id="test4">
        animation-delay: 2s<br>
        <button onclick="motion3('test4', 8000);">동작</button>
    </div>

    <script>
        function motion3(id, timeOut) {
            let div = document.getElementById(id);
            div.style.animationName = "motion3";
            div.style.animationDuration = "4s";

            if(id) {
                div.style.animationDelay = "2s";
            }

            setTimeout(function() {
                div.style.animationName = "";
                div.style.animationDuration = "";
                div.style.animationDelay = "";
            }, timeOut); /* 일정시간 경과 되면 다시 리셋 시키기 */
        }
    </script>

    <h2>animation-iteration-count</h2>
    <div id="test5">
        animation-iteration-count: 3<br>
        <button onclick="motion3('test5', 120 * 1000)">동작</button> <!-- 60 * 1000 = 1분 -->
    </div>

    <h3>무한 반복</h3>
    <div id="test6">
        animation-iteration-count: infinity
    </div>
</body>
</html>